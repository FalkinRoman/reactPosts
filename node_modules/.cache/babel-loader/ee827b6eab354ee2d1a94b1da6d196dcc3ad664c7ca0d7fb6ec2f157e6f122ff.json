{"ast":null,"code":"import React,{useEffect,useState}from'react';import MyInput from'./UI/input/MyInput';import MyTextarea from'./UI/textarea/MyTextarea';import MyButton from'./UI/button/MyButton';import{FormService}from'../API/FormService';import{useFetching}from'../hook/useFetching';import MyNotification from'./UI/notification/MyNotification';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FormContact=()=>{const[name,setName]=useState('');const[nameDirty,setNameDirty]=useState(false);const[nameError,setNameError]=useState('Имя не может быть пустым');const[email,setEmail]=useState('');const[emailDirty,setEmailDirty]=useState(false);const[emailError,setEmailError]=useState('email не может быть пустым');const[comment,setComment]=useState('');const[notification,setNotification]=useState(false);const[validForm,setValidForm]=useState(false);const[fetchForm,FormLoading,formError]=useFetching(async()=>{const formData={name,email,comment};await FormService.sendFormToTelegram(formData);});useEffect(()=>{if(nameError||emailError){setValidForm(false);}else{setValidForm(true);}},[nameError,emailError]);//Валидация для имени\nconst nameHandler=e=>{setName(e.target.value);if(e.target.value.length<3||e.target.value.length>20){setNameError(\"Поле имя должно быть длинеее 3 и меньше 20\");if(!e.target.value){setNameError('Имя не может быть пустым');}}else{setNameError('');}};//Валидация для email\nconst emailHandler=e=>{setEmail(e.target.value);const re=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!re.test(String(e.target.value).toLowerCase())){setEmailError('Некоректный email');}else{setEmailError('');}};//При смене фокуса с поля инпут \nconst blurHandler=e=>{switch(e.target.name){case'name':setNameDirty(true);break;case'email':setEmailDirty(true);break;}};//Функция для отправки формы\nfunction sendForm(e){setNotification(true);e.preventDefault();fetchForm();setName(\"\");setEmail(\"\");setComment(\"\");}return/*#__PURE__*/_jsxs(\"form\",{className:\"form_contact\",children:[notification&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MyNotification,{children:\"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430\"})}),nameDirty&&nameError&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:nameError}),/*#__PURE__*/_jsx(MyInput,{onChange:e=>nameHandler(e),onBlur:e=>blurHandler(e),value:name,name:\"name\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\"}),emailDirty&&emailError&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",marginTop:\"10px\"},children:emailError}),/*#__PURE__*/_jsx(MyInput,{onChange:e=>emailHandler(e),onBlur:e=>blurHandler(e),value:email,name:\"email\",type:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(MyTextarea,{value:comment,onChange:e=>setComment(e.target.value),name:\"comment\",type:\"text\",placeholder:\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex_end\",children:/*#__PURE__*/_jsx(MyButton,{onClick:e=>sendForm(e),disabled:!validForm,type:\"submit\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})})]});};export default FormContact;","map":{"version":3,"names":["React","useEffect","useState","MyInput","MyTextarea","MyButton","FormService","useFetching","MyNotification","jsx","_jsx","jsxs","_jsxs","FormContact","name","setName","nameDirty","setNameDirty","nameError","setNameError","email","setEmail","emailDirty","setEmailDirty","emailError","setEmailError","comment","setComment","notification","setNotification","validForm","setValidForm","fetchForm","FormLoading","formError","formData","sendFormToTelegram","nameHandler","e","target","value","length","emailHandler","re","test","String","toLowerCase","blurHandler","sendForm","preventDefault","className","children","style","color","onChange","onBlur","type","placeholder","marginTop","onClick","disabled"],"sources":["/Users/falkinroman/Desktop/my-app/reactPosts/src/components/FormContact.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport MyInput from './UI/input/MyInput';\nimport MyTextarea from './UI/textarea/MyTextarea';\nimport MyButton from './UI/button/MyButton';\nimport { FormService } from '../API/FormService';\nimport { useFetching } from '../hook/useFetching';\nimport MyNotification from './UI/notification/MyNotification';\n\nconst FormContact = () => {\n\n    const [name, setName] = useState('') \n    const [nameDirty, setNameDirty] = useState(false)\n    const [nameError, setNameError] = useState('Имя не может быть пустым')\n    const [email, setEmail] = useState('') \n    const [emailDirty, setEmailDirty] = useState(false)\n    const [emailError, setEmailError] = useState('email не может быть пустым')\n    const [comment, setComment] = useState('')\n    const [notification, setNotification] = useState(false) \n    const [validForm, setValidForm] = useState(false)\n    const [fetchForm, FormLoading, formError] = useFetching(async () => {\n        const formData = {\n            name,\n            email,\n            comment,\n        };\n        await FormService.sendFormToTelegram(formData)\n       \n      })\n\n\n    useEffect(() => {\n        if (nameError || emailError) {\n            setValidForm(false)\n        }else {\n            setValidForm(true)\n        }\n    }, [nameError, emailError])\n\n\n    //Валидация для имени\n    const nameHandler = (e) =>{\n        setName(e.target.value)\n        if (e.target.value.length < 3 || e.target.value.length > 20) {\n            setNameError(\"Поле имя должно быть длинеее 3 и меньше 20\")\n            if(!e.target.value) {\n                setNameError('Имя не может быть пустым')\n            }\n        } else {\n            setNameError('')\n        }\n    }\n\n    //Валидация для email\n    const emailHandler = (e) => {\n        setEmail(e.target.value)\n        const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if(!re.test(String(e.target.value).toLowerCase())){\n            setEmailError('Некоректный email')\n        }else {\n            setEmailError('')\n        }\n    }\n\n\n   //При смене фокуса с поля инпут \n    const blurHandler = (e) => {\n        switch(e.target.name){\n            case 'name': \n            setNameDirty(true)\n            break\n\n            case 'email': \n            setEmailDirty(true)\n            break\n        }\n    }\n\n    \n    //Функция для отправки формы\n    function sendForm(e) {\n        setNotification(true)\n        e.preventDefault()\n        fetchForm()\n        setName(\"\")\n        setEmail(\"\")\n        setComment(\"\")   \n    }\n     \n\n\n    return (\n        \n        <form className='form_contact' >\n            {(notification) && \n            <div>\n                <MyNotification>Форма успешно отправлена</MyNotification>\n            </div>    \n            }\n            {(nameDirty && nameError) && <div style={{color: \"red\"}}>{nameError}</div>}\n            <MyInput onChange={e => nameHandler(e)} onBlur={e => blurHandler(e)} value={name}  name=\"name\" type=\"text\" placeholder=\"Имя\" />\n            {(emailDirty && emailError) && <div style={{color: \"red\", marginTop: \"10px\"}}>{emailError}</div>}\n            <MyInput onChange={e => emailHandler(e)} onBlur={e => blurHandler(e)} value={email}  name=\"email\" type=\"email\" placeholder=\"Email\" />\n            <MyTextarea value={comment} onChange = {(e)=> setComment(e.target.value)} name=\"comment\" type=\"text\" placeholder=\"Комментарий\" />\n            <div className='flex flex_end'>\n                <MyButton onClick={e => sendForm(e)} disabled={!validForm} type=\"submit\">Отправить</MyButton>\n            </div>\n        </form>\n    );\n};\n\nexport default FormContact;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}